<div class="resolicion">
  <div class="destock">
    <nav class="navbar navbar-expand-lg colorprimary">
        <div class="container-fluid" style="align-items: center;">
          <a *ngIf="ecodUsuarios != null" class="navbar-brand colorprimary" style="padding-left:45%" >Editar usuario</a>   
          <a *ngIf="ecodUsuarios ===  null " class="navbar-brand colorprimary " style="padding-left:45%" >Registrar usuario</a>
        </div>  
      </nav>
  <div class="card">
    <div class="row">
      <div class="col-6"></div>
      <div class="col-2 mb-4 mt-4">
        <form class="was-validated container " [formGroup]="ContraformGroup"  >
          <input type="password" (keyup)="validadContrasena(ContraformGroup.value.Contrasena)" [(ngModel)]="datos.Contrasena" formControlName="Contrasena" class="form-control" id="Contrasena" placeholder="Contrasena*"  required>
        </form>
      </div>  
      <div class="mb-4 mt-4 col-2 " style="padding-left: 1%;">
        <button style="min-width:80px; max-height: 40px; color:white; background:#0146af"  type="button" class="btn  col-10 colorprimary" (click)="ConsultaUsuario()">
          Consulta
        </button>
      </div>
      <div class="mb-4 mt-4 col-2">
        <button style="min-width:80px; max-height: 40px; color:white; background:#0146af" [disabled]="validadContras == 0 " (click)="onSubmit()" type="button" class="btn colorprimary col-10">
          Guardar
        </button>
      </div>
    </div>
    <form class="was-validated" [formGroup]="reactiveForm"(ngSubmit)="onSubmit()" >
    <div class="container row" style="min-width: 100%;">
      <div class="mb-4 col-md-2"></div>
        <div class="mb-4 col-md-2">
          <label for="tRFC" style="text-align: center;">RFC</label>
          <input (blur)="validadrfc(reactiveForm.value.tRFC)" (keyup)="mayusculaRFC(reactiveForm.value.tRFC)" [(ngModel)]="datos.tRFC" formControlName="tRFC" class="form-control" id="tRFC" placeholder="RFC*" maxlength="13" >
          <div align="end">{{reactiveForm.value.tRFC ? reactiveForm.value.tRFC.length : 0}} / 13</div>
        </div>
        <div class="mb-4 col-md-3">
          <label for="tNombre" style="text-align: center;">Nombre</label>
          <input class="form-control" id="tNombre" placeholder="Nombre*" name="tNombre"  [(ngModel)]="datos.tNombre" formControlName="tNombre"  required>
          <div class="invalid-feedback">Este campo es necesario</div>
        </div>
        <div class="mb-4 col-md-3" >
          <label for="tApellido" style="text-align: center;">Apellido</label>
          <input class="form-control" id="tApellido" placeholder="Apellido" [(ngModel)]="datos.tApellido" formControlName="tApellido" >
          <div class="invalid-feedback">Este campo es necesario</div>
        </div>
        <div class="mb-4 col-2 " ></div>
        <div class="mb-4 col-2 " ></div>
        <div class=" col-md-3 " formArrayName="Celulares">   
          <div class="direccion row mt-3" [formGroupName]="i" *ngFor="let direccion of reactiveForm.controls['Celulares'].controls; let i = index"> 
            <div class="col-md-6">
              <input maxlength="10" class="form-control" matInput placeholder=telefono  formControlName="telefono" >          
            </div>
              <div class="col-md-3">
                <button class="btn btn-primary col-12 " mat-raised-button color="warn" type="button" (click)="eliminarinputCel(i)">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-telephone-minus" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z"/>
                    <path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
                  </svg> 
                </button>
              </div>
            </div>
            <div class="mt-3  col-md-12 ">
              <button class="btn colorprimary col-8 " style="color:white; background:#0146af" mat-raised-button color="primary" type="button" (click)="annadirinputCel()">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-telephone-plus" viewBox="0 0 16 16">
                  <path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
                  <path fill-rule="evenodd" d="M12.5 1a.5.5 0 0 1 .5.5V3h1.5a.5.5 0 0 1 0 1H13v1.5a.5.5 0 0 1-1 0V4h-1.5a.5.5 0 0 1 0-1H12V1.5a.5.5 0 0 1 .5-.5z"/>
                </svg>     
                Agregar No. Celular
              </button>
            </div>
          </div>
          <div class=" col-md-6" formArrayName="Mails">   
            <div class="mils row mt-3" [formGroupName]="i" *ngFor="let mils of reactiveForm.controls['Mails'].controls; let i = index"> 
              <div class="col-md-12 row">
                <div class="col-md-9 row">
                  <input  class="form-control" matInput placeholder="gmail" formControlName="gmail">          
                </div>
                <div class="col-md-3">
                  <button class="btn btn-primary col-12" mat-raised-button color="warn" type="button" (click)="eliminarinputMail(i)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-envelope-dash" viewBox="0 0 16 16">
                      <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>
                      <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-5.5 0a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0-.5.5Z"/>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
            <div class="mt-3  col-md-12 ">
              <button class="btn colorprimary col-8 " style="color:white; background:#0146af" mat-raised-button color="primary" type="button" (click)="annadirinputMail()">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-envelope-plus" viewBox="0 0 16 16">
                  <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>
                  <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5Z"/>
                </svg>
                Agregar Mail
              </button>
            </div>
          </div>
        </div>
      </form> 
    </div>
  </div>

<!--    MOVIL

--------------------------------------------------------------------------------------------------------------------------------------------

-->

  <div class="movil">
    <nav class="navbar navbar-expand-lg colorprimary">
      <div class="container-fluid" style="align-items: center;">
        <a *ngIf="ecodUsuarios != null" class="navbar-brand colorprimary" style="padding-left:25%" >Editar usuario</a>   
        <a *ngIf="ecodUsuarios ===  null " class="navbar-brand colorprimary " style="padding-left:25%" >Registrar usuario</a>
      </div>  
    </nav>
    <div class="row ">
      <div class="row" style="display: flex; --bs-gutter-x:0rem; padding-top: 15px;">
        <div class="col-6" *ngIf="permisos == 'D' || permisos == 'C'">    
          <a type="button"  style="min-height:45px; border-radius: 0px; color:white; background:#3f951c; border-color:#285299; border-block-start:none; border-bottom-width:revert; border-left:none;" class="btn col-12" (click)="ConsultaUsuario()">Consulta</a>
        </div>
        <div class="col-6" *ngIf="permisos == 'D' || permisos == 'C'">
          <button style=" min-height:45px; color:white; background:#3f951c; border-color:#285299; border-block-start:none; border-bottom-width:revert; border-radius: 0px;"  [disabled]="validadContras == 0 " type="button" class="btn col-12" (click)="onSubmit()">Guardar</button>
        </div>
      </div> 
      <form class="was-validated container container" [formGroup]="ContraformGroup" style="padding-top: 10px; padding-left: 5%; padding-right: 12%;">
        <label for="ClienteControll">Contrase√±a</label>
        <input type="password" style="min-height:45px;" (keyup)="validadContrasena(ContraformGroup.value.Contrasena)" [(ngModel)]="datos.Contrasena" formControlName="Contrasena" class="form-control" id="Contrasena" placeholder="Contrasena*"  required>
      </form>
      <form class="was-validated" [formGroup]="reactiveForm"(ngSubmit)="onSubmit()" >
        <div class="container row" style="min-width: 100%;">
          <div class="mb-4 col-md-2"></div>
          <div class="mb-4 col-md-2">
            <label for="tRFC" style="text-align: center;">RFC</label>
            <input (blur)="validadrfc(reactiveForm.value.tRFC)" (keyup)="mayusculaRFC(reactiveForm.value.tRFC)" [(ngModel)]="datos.tRFC" formControlName="tRFC" class="form-control" id="tRFC" placeholder="RFC*" maxlength="13" >
          </div>
          <div class="mb-4 col-md-3">
            <label for="tNombre" style="text-align: center;">Nombre</label>
            <input class="form-control" id="tNombre" placeholder="Nombre*" name="tNombre"  [(ngModel)]="datos.tNombre" formControlName="tNombre"  required>
            <div class="invalid-feedback">Este campo es necesario</div>
          </div>
          <div class="mb-4 col-md-3" >
            <label for="tApellido" style="text-align: center;">Apellido</label>
            <input class="form-control" id="tApellido" placeholder="Apellido" [(ngModel)]="datos.tApellido" formControlName="tApellido" >
            <div class="invalid-feedback">Este campo es necesario</div>
          </div>
          <div class="col-md-3" formArrayName="Celulares">   
            <div class="direccion row mt-3" [formGroupName]="i" *ngFor="let direccion of reactiveForm.controls['Celulares'].controls; let i = index"> 
              <div class="col-md-6">
                <input maxlength="10" class="form-control" matInput placeholder=telefono  formControlName="telefono" >          
              </div>
              <div class="col-md-3">
                <button class="btn btn-primary col-12 " mat-raised-button color="warn" type="button" (click)="eliminarinputCel(i)">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-telephone-minus" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z"/>
                  <path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
                </svg> </button>
                </div>
              </div>
              <div class="mt-3 col-md-12">
              <button class="btn colorprimary col-8 " mat-raised-button color="primary" type="button" (click)="annadirinputCel()">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-telephone-plus" viewBox="0 0 16 16">
                    <path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
                    <path fill-rule="evenodd" d="M12.5 1a.5.5 0 0 1 .5.5V3h1.5a.5.5 0 0 1 0 1H13v1.5a.5.5 0 0 1-1 0V4h-1.5a.5.5 0 0 1 0-1H12V1.5a.5.5 0 0 1 .5-.5z"/>
                  </svg>     
                  Agregar No. Celular
              </button>
            </div>
            </div>
            <div class=" col-md-6" formArrayName="Mails">   
              <div class="mils row mt-3" [formGroupName]="i" *ngFor="let mils of reactiveForm.controls['Mails'].controls; let i = index"> 
                <div class="col-md-12 row">
                  <div class="col-md-9 row">
                    <input  class="form-control" matInput placeholder="gmail" formControlName="gmail">          
                  </div>
                  <div class=" col-md-12">
                    <button class="btn btn-primary col-12" mat-raised-button color="warn" type="button" (click)="eliminarinputMail(i)">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-envelope-dash" viewBox="0 0 16 16">
                        <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>
                        <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-5.5 0a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0-.5.5Z"/>
                      </svg></button>
                    </div>
                  </div> 
                </div>
                <div class="mt-3 col-md-12">
                  <button class="btn colorprimary col-8 " mat-raised-button color="primary" type="button" (click)="annadirinputMail()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-envelope-plus" viewBox="0 0 16 16">
                      <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>
                      <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5Z"/>
                    </svg>
                    Agregar Mail
                  </button>
                </div>
              </div>    
            </div>
          </form> 
        </div>
      </div>
    </div>